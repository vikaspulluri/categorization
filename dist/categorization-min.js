"use strict";function addSibling(e){var t=e.target,a=createBaseLI();t.parentNode.insertBefore(a,t)}function addChild(e){var t=e.target,a=createBaseUL();t.parentNode.appendChild(a)}function deleteNode(e){var t=e.target.parentNode;2==t.parentElement.childElementCount?t.parentElement.remove():t.remove()}function updateProps(e){var t=e.firstElementChild;t.value="";var a=t.id,n=parseInt(a.substr(a.length-1,1),10);return a=a.replace(n,n+1),t.setAttribute("id",a),t.setAttribute("name",a),e}function createBaseLI(e){var t=createElement("li"),a=createElement("input");a.type="text",a.name=e,a.id=e,a.placeholder="category name";var n=createButton("child","+");n.classList.add("add"),t.appendChild(a),t.appendChild(n);var r=createButton("delete","-");return r.classList.add("child"),t.appendChild(r),updateProps(t)}function createBaseUL(){var e=createElement("ul"),t=createBaseLI("cat-1"),a=createButton("sibling","+");return e.appendChild(t),a.classList.add("add"),e.appendChild(a),e}function createElement(e){return document.createElement(e)}function createButton(e,t){var a=createElement("button");return a.textContent=t,a.classList.add(e),a}function convertToJSON(){var e=createObj(document.getElementById("base"));console.log(e)}function createObj(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.from(e.children).forEach(function(e){if("BUTTON"!=e.tagName&&"UL"!=e.tagName){var a={},n=e.firstElementChild.value;a.category=n,a.subCategories=[];var r=e.querySelector("ul");t.push(a),r&&createObj(r,a.subCategories)}}),t}document.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("sibling"))e.target.classList.contains("add")?addSibling(e):deleteNode(e);else if(e.target&&e.target.classList.contains("child"))e.target.classList.contains("add")?addChild(e):deleteNode(e);else{if(!e.target||"convert"!=e.target.id)return;convertToJSON()}});